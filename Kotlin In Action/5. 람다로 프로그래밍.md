# 5장. 람다로 프로그래밍

<aside>
💡 **람다 식, 람다**는 기본적으로 다른 함수에 넘길 수 있는 작은 코드 조각을 뜻한다.

</aside>

### 지피티에게 물어보자 람다식, 람다식이란?

**람다식**은 익명 함수의 한 형태로, 이름이 없는 함수를 뜻합니다.

람다식은 코드 블록을 데이터로 취급할 수 있게 해주며, 다른 함수의 인자로 전달되거나 변수에 저장될 수 있습니다.

람다식은 주로 간결하고 일회성으로 사용되는 간단한 함수 정의에 유용합니다.

책에 좋은 의미가 있다.

일련의 동작을 변수에 저장하거나, 다른 함수에 넘겨야 하는 경우 익명 내부 클래스를 사용해 왔지만, 이젠 람다로 이것을 대체할 수 있다!!

그러니깐

“일련의 동작을 변수에 저장하거나, 다른 함수에 넘겨야 하는 경우 “

이럴 때 사용하는 게 람다.

함수를 값처럼 취급한다는 의미이다.

### 람다 대신 멤버 참조

```kotlin
val people = listOf(Person("Alice", 23), Person("Heejik", 26))

println(people.maxBy { it.age })   // 람다

println(people.maxBy(Person::age)) // 멤버 참조
```

함수나 프로퍼티를 반환하는 역할을 수행하는 람다는 멤버 참조로 대치가 가능핟.

### 람다 식의 문법

```kotlin
 { x: Int, y: Int -> x + y }
```

이게 람다 식이다.

여기저기 전달할 수 있는 동작의 모음.

함수에 인자로 넘기면서 정의하기도, 변수에 저장하기도 가능하다.

값으로 취급하니깐

```kotlin
val sum = { x: Int, y: Int -> x + y }
```

```kotlin
{ println(42) }()    // 1

run { println(42 }    // 2
```

1 처럼 람다식을 선언과 동시에 직접 호출(`()`) 이 가능하다.

하지만 굳이? 읽기도 어렵고 쓸모도 없다.

하지만 이렇게 쓸 일이 있다면 2번 처럼 `run` 을 사용하면 가독성이 더 좋다.

코틀린에서 함수 호출에 람다식을 파라미터로 사용하면

괄호 외부에 중괄호로 바로 선언할 수 있다.

이것은 마지막 파라미터가 람다형태로 받을 때만 가능하다.

만약 2개 이상의 파라미터가 람다로 받는다면 이 땐 괄호내에 선언하는 게 더 보기가 좋다.

(누구는 괄호에, 누구는 외부에 차별하지말자.)

람다 식의 파라미터가 하나뿐이고 타입을 컴파일러가 추론이 가능할 때 `it` 으로 바로 해당 파라미터를 사용할 수 있다.

하지만 너무 남발하지 말자.

특히 람다가 중첩되면 `it` 이 어디 람다의 파라미터인지 파악하기 어렵다.

람다를 변수에 저장할 땐 파라미터 타입을 추론할 문맥이 존재하지 않는다. 따라서 무조건 명시(우리가 함수를 정의할 때도 파라미터에 타입은 무조건 명시하는 느낌)

```kotlin
val getAge = { p: Person -> p.age }
people.maxBy(getAge)
```

람다식의 본문이 여러 줄로 이뤄질 때 람다식의 결과는 본문의 맨 마지막에 있는 식

### 람다의 비용

실행(런타임) 시점에 코틀린 람다 호출에는 아무 부가 비용이 들지 않는다.

프로그램의 기본 구성 요소와 비슷한 성능을 가진다.

8장에 추가로 이유가 나온다고 하니 그때 자세히 알아보자.